---
title: Modifying Buckets
displayed_sidebar: motorSidebar
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import APIButton from "@site/src/components/APIButton";

<APIButton href="/api/bucket" label="Bucket API" type="info" />

New documents can be added or removed from a bucket using the Bucket class. This does not delete the document (data cannot be completely deleted from Sonr).

## Add a Document

Adding a document both uploads the document to IPFS and adds a reference to the bucket. The result of the upload is returned containing the CID and other information.

<Tabs groupId="platform">
  <TabItem value="go" label="🐹 Go" default>

```go
func AddBucketObject(bucketDid string, obj []byte) error {
	if instance == nil {
		return errWalletNotExists
	}

	newObject := &bt.BucketItem{}
	if err := newObject.Unmarshal(obj); err != nil {
		return err
	}

	b, err := instance.GetBucket(bucketDid)
	if err != nil {
		return err
	}

	newObjects := append(b.GetBucketItems(), newObject)
	_, err = instance.UpdateBucketItems(context.Background(), bucketDid, newObjects)

	return err
}
```

  </TabItem>
  <TabItem value="android" label="☕ Java">

```java
public void addDocumentToBucket(String bucketDid, Document d) throws Exception {
    Motoroid mtr = Motoroid.getInstance();
    Bucket bucket = mtr.getBucket(bucketDid);

    UploadObjectResponse response = bucket.addDocument(d);

    // print the CID
    System.out.println(response.getReference().getCid());
}
```

  </TabItem>
  <TabItem value="flutter" label="🎯 Dart">

    ### 🚧 Under Construction 🚧

  </TabItem>
</Tabs>

Using the returned CID, you can remove the Document from the Bucket.

<Tabs groupId="platform">
  <TabItem value="go" label="🐹 Go" default>

```go
func RemoveBucketObject(bucketDid, cid string) error {
	if instance == nil {
		return errWalletNotExists
	}

	b, err := instance.GetBucket(bucketDid)
	if err != nil {
		return err
	}

	items := b.GetBucketItems()
	newObjects := make([]*bt.BucketItem, len(items)-1)
	var skip int
	for i, item := range items {
		if item.Uri == cid {
			skip += 1
			continue
		}

		newObjects[i-skip] = item
	}

	_, err = instance.UpdateBucketItems(context.Background(), bucketDid, newObjects)
	return err
}
```

  </TabItem>
  <TabItem value="android" label="☕ Java">

```java
public void removeDocumentFromBucket(String bucketDid, String cid) throws Exception {
    Motoroid mtr = Motoroid.getInstance();
    Bucket bucket = mtr.getBucket(bucketDid);

    bucket.removeDocument(cid);
}
```

  </TabItem>
  <TabItem value="flutter" label="🎯 Dart">

    ### 🚧 Under Construction 🚧

  </TabItem>
</Tabs>
