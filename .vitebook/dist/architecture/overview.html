<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="vitebook@0.23.6" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/manifest.json" />
    <title>Architecture Overview | Vitebook</title>
   <meta name="description" content="Blazing fast Storybook alternative.">
   <script>
  const key = '@vitebook/color-scheme';
  const saved = window.localStorage.getItem(key) ?? 'auto';
  const dark = saved === 'auto' ?
    window.matchMedia('(prefers-color-scheme: dark)').matches
    : saved === 'dark';
  if (dark) {
    const htmlEl = window.document.querySelector('html');
    htmlEl.classList.add('dark')
  }
    </script>
   <meta property="og:site_name" content="Vitebook">
   <meta property="og:title" content="Architecture Overview | Vitebook">
   <meta property="og:description" content="Blazing fast Storybook alternative.">
   <meta property="twitter:title" content="Architecture Overview | Vitebook">
   <meta property="twitter:description" content="Blazing fast Storybook alternative.">
    <link rel="stylesheet" href="/assets/css/style.ca2c3b43.css">
    <link rel="modulepreload" crossorigin href="/assets/js/framework.40d14ebd.js">
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="app"><div class="theme __vbk__ svelte-kg26u5">
    
  

  
    <aside class="sidebar __vbk__ svelte-mg6wx9" aria-hidden="true">

  <div class="sidebar__header __vbk__ svelte-mg6wx9"><div class="sidebar__header-wrapper __vbk__ svelte-mg6wx9"><a class="navbar__title __vbk__ svelte-1f6oyy2" href="/" aria-label="Vitebook, Take me home"><div class="navbar__logo __vbk__ svelte-1f6oyy2"><!-- HTML_TAG_START --><svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M39.7265 4.50427L39.7265 33.3318H12.3391L28.8049 4.50427H39.7265Z" fill="white" stroke="black" stroke-width="3" stroke-linejoin="bevel"/>
<path d="M5.6571 22.6991L17.0572 4.50427H32.2324L25.249 15.1287L38.8616 15.1287L5.6571 44.8828L15.3886 22.6987L5.6571 22.6991Z" fill="currentColor" stroke="black" stroke-width="3" stroke-linejoin="bevel"/>
</svg>
<!-- HTML_TAG_END --></div>
  Vitebook
</a>
        <div class="__vbk__" style="flex-grow: 1; margin-left: 2.5rem;"></div>
        
        
        <a class="brand-link github svelte-c7t2ho __vbk__" href="https://github.com/sonr-io/sonr" aria-label="GitHub" target="_blank"><span class="brand-link__icon __vbk__"><!-- HTML_TAG_START --><!-- HTML_TAG_END --></span></a>
        <button class="theme-switch  svelte-1lvoxbk __vbk__" role="switch" aria-label="Toggle dark mode" aria-checked="false"><span class="theme-switch__icon light-icon __vbk__ svelte-1lvoxbk"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1.2em" height="1.2em"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 1 1-8 0a4 4 0 0 1 8 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>
<!-- HTML_TAG_END --></span>
    <span class="theme-switch__icon dark-icon __vbk__ svelte-1lvoxbk"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1.2em" height="1.2em"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none"><path d="M20.354 15.354A9 9 0 0 1 8.646 3.646A9.003 9.003 0 0 0 12 21a9.003 9.003 0 0 0 8.354-5.646z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>
<!-- HTML_TAG_END --></span></button></div></div>

  <div class="sidebar__body __vbk__ svelte-mg6wx9"><button aria-hidden="false" class="sidebar__back-button __vbk__   svelte-mijklx"><span class="sidebar__back-button__arrow __vbk__ svelte-mg6wx9"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1.2em" height="1.2em"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none"><path d="M11 17l-5-5m0 0l5-5m-5 5h12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>
<!-- HTML_TAG_END --></span>
        Back to main menu</button>

    <div class="sidebar__main-menu __vbk__ svelte-mg6wx9" aria-hidden="true"></div>

    <ul class="sidebar__current-menu __vbk__ svelte-mg6wx9" aria-hidden="false"><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/overview.html" class="sidebar-link __vbk__ active    svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc active">
      Overview
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-001.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      1. Decentralized Identifiers
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-002.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      2. Verifiable Type Definitions
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-003.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      3. User and App Specific Storage
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-004.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      4. Peer-to-Peer Streams
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-005.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      5. NFT Standard
      </span></a>
</li><li class="sidebar-item __vbk__ svelte-1exgrzc"><a href="/architecture/adr-006.html" class="sidebar-link __vbk__     svelte-mijklx"><span class="sidebar-link__text __vbk__ svelte-1exgrzc">
      6. Invokable Functions
      </span></a>
</li></ul></div>

  
      
</aside>
  

  <div class="preview __vbk__ svelte-kg26u5 md">

    

    

    <div class="preview__content __vbk__ svelte-kg26u5">
        <main class="page type-svelte:md svelte-jhktk __vbk__"><div class="page__container __vbk__ svelte-jhktk">

    <!-- HTML_TAG_START --><blockquote class="__vbk__">
<p class="__vbk__">This guide serves as a walkthrough for ADRs 001-006. It provides a high level overview of each ADR with a special emphasis on interactions with the blockchain.</p>
</blockquote>
<h2 id="introduction" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#introduction" aria-hidden="true">#</a> Introduction</h2>
<p class="__vbk__">An Architecture Decision Record (ADR) is a document which describes in detail a significant addition to the Sonr platform. This includes a high level description all the way down to specific methods to be added. This guide will link each ADR for reference, but the blockchain interactions for each ADR will be synthesized and documented here.</p>
<h3 id="adr-001-decentralized-identifiers" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-001-decentralized-identifiers" aria-hidden="true">#</a> ADR-001: Decentralized Identifiers</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-001" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-001<OutboundLink></OutboundLink></a></p>
<p class="__vbk__"><a href="http://w3.org/TR/did-core" target="_blank" rel="noopener noreferrer" class="__vbk__">Decentralized Identifiers (DIDs)<OutboundLink></OutboundLink></a> are the foundation of decentralization on Sonr. They provide a standardized way to support unfederated identities that are not owned by any individual organization—including Sonr.
Any time a user or application is created or updated, a transaction on the blockchain is created. This may mean changing metadata for an account, such as a profile picture link; adding or removing a device (new phone, laptop, etc.); buying or transferring an alias, for example “alice.snr”; or authorizing another device as a controller, for example in the case you need to let an application act on your behalf. These transactions will always be done on behalf of the end user.</p>
<h3 id="adr-002-object-schemas" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-002-object-schemas" aria-hidden="true">#</a> ADR-002: Object Schemas</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-002" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-002<OutboundLink></OutboundLink></a></p>
<p class="__vbk__">Schemas and Objects together are the primary means for persistent data on Sonr. Schemas are data types, implemented as <a href="https://ipld.io" target="_blank" rel="noopener noreferrer" class="__vbk__">IPLD<OutboundLink></OutboundLink></a> schemas that enable platform-agnostic models within Sonr and without. Objects on the other hand are simply data blobs on <a href="https://ipfs.io" target="_blank" rel="noopener noreferrer" class="__vbk__">IPFS<OutboundLink></OutboundLink></a> (not to be confused with IPLD) that can be deserialized and represented by a schema.
Schemas will be largely immutable, but creating them requires a transaction on the blockchain. Any updates to a schema are made in the form of a new schema and a deprecation of the old one. Objects by contrast are not stored on-chain. The only interaction between objects and the chain arises when buckets are introduced (more on that in the next section). These transactions will be done mostly by developers.</p>
<h3 id="adr-003-buckets" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-003-buckets" aria-hidden="true">#</a> ADR-003: Buckets</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-003" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-003<OutboundLink></OutboundLink></a></p>
<p class="__vbk__">Objects on Sonr will oftentimes be related to one another. For example, a user will have a vault containing all their encryption keys, a group of objects related to a particular application they use, or just personal information. These related objects will be tied together through buckets. A bucket is essentially a list of <a href="https://docs.ipfs.io/concepts/content-addressing/" target="_blank" rel="noopener noreferrer" class="__vbk__">CIDs<OutboundLink></OutboundLink></a> or a set of small data blobs that is owned by an end user. Buckets also facilitate access control by acting as a central repository for shared encryption keys.
Creating, updating, and deleting buckets all require transactions on the blockchain. This is likely to be done very frequently, with the cost on the end user.</p>
<h3 id="adr-004-channels" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-004-channels" aria-hidden="true">#</a> ADR-004: Channels</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-004" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-004<OutboundLink></OutboundLink></a></p>
<p class="__vbk__">The purpose of channels is to facilitate real-time communication between nodes on the network. In many cases, these channels need only exist for a short time to transfer data from one node to another or establish a connection—these are ephemeral channels. Ephemeral channels require no blockchain resources and no persisted data. Persistent channels on the other hand are created on-chain and never become unavailable unless deactivated. These channels are meant to facilitate things akin to Discord channels or notifications.</p>
<h3 id="adr-005-nft-standard" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-005-nft-standard" aria-hidden="true">#</a> ADR-005: NFT Standard</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-005" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-005<OutboundLink></OutboundLink></a></p>
<p class="__vbk__">This is just what it sounds like. Sonr will use the <a href="https://docs.cosmwasm.com/cw-plus/0.9.0/cw721/spec/" target="_blank" rel="noopener noreferrer" class="__vbk__">CW721<OutboundLink></OutboundLink></a> Spec for implementing NFTs, enabling developers to build <a href="https://cosmwasm.com/" target="_blank" rel="noopener noreferrer" class="__vbk__">CosmWasm<OutboundLink></OutboundLink></a> smart contracts for custom NFT logic. A transaction on-chain will be required for any mint, buy, sell, or transfer of NFTs.</p>
<h3 id="adr-006-functions" tabindex="-1" class="__vbk__"><a class="header-anchor __vbk__" href="#adr-006-functions" aria-hidden="true">#</a> ADR-006: Functions</h3>
<p class="__vbk__"><a href="https://docs.sonr.io/articles/reference/adr-006" target="_blank" rel="noopener noreferrer" class="__vbk__">LINK TO ADR-006<OutboundLink></OutboundLink></a></p>
<p class="__vbk__">Functions on Sonr allow developers to run serverless code, similar to AWS Lambda or GCP Cloud Functions. Creating, updating, and deleting these functions will involve a transaction to the chain, cost of execution will be determined from one of the following ways:</p>
<ul class="__vbk__">
<li class="__vbk__">total_cost = static_cost + runtime_fees (static_cost)</li>
<li class="__vbk__">total_cost=variable_cost+runtime_fees+ gas_fees (variable cost)</li>
<li class="__vbk__">total_cost=runtime_fees (runtime_cost) but execution is facilitated by an off-chain service (free). Developers will be the only users performing these transactions.</li>
</ul><!-- HTML_TAG_END -->

    

    
          </div>
</main>
      </div>

    </div>

  
    
  

  

  

  
    <div class="scrim __vbk__ svelte-kg26u5"><button class="scrim __vbk__ svelte-zhfmk7" aria-label="Close scrim"></button></div>
  
</div></div>
    <script type="module" src="/assets/entry-client.89ee1a09.js" defer></script>
  </body>
</html>
